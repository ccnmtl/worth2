{% extends 'base.html' %}

{% load bootstrap %}
{% load webdesign %}

{% block content %}
<div class="worth-facilitator-sign-in-participant">
    <h1>Sign In a Participant</h1>
    {% lorem 1 p %}

    <form class="form-horizontal"
          role="form"
          method="post"
          action="">
        {% csrf_token %}

        {{ form.errors }}

        <div class="form-group">
            <label for="sign-in-cohort-filter"
                   class="control-label col-sm-3">Filter by Cohort</label>
            <div class="col-sm-3">
                <select id="sign-in-cohort-filter" class="form-control">
                    <option value="all">All Cohorts</option>
                    <option value="">Unassigned</option>
                    {% for cid in cohorts %}
                    <option value="{{cid}}">{{cid}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-3"
                   for="{{form.participant_id.id_for_label}}">
                Participant ID #</label>
            <div class="col-sm-9">
                <select class=" form-control" id="id_participant_id"
                        name="participant_id">

                    <option>Choose a Participant</option>
                    {% for p in form.participant_id.field.choices %}
                    <option value="{{p.pk}}"
                            data-cohort-id="{{p.cohort_id|default:''}}">
                        {{p.study_id}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        {{ form.participant_location|bootstrap_horizontal:'col-sm-3' }}

        <div class="form-group worth-participant-destination">
            <label for="participant_destination"
                   class="control-label col-sm-3">Take participant to:</label>
            <div class="col-sm-6">
                <div class="radio">
                    <label>
                        <input type="radio"
                               name="participant_destination"
                               value="last_completed_activity"
                               checked>
                        The last completed activity.
                    </label>
                    <div>
                        <!-- TODO this text needs to be updated when
                             the facilitator changes the participant ID
                             number in the select box above.
                          -->
                        <em>Activity 5 "Charlene" (from Session 3 "Title")</em>
                    </div>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="participant_destination"
                               value="next_new_session">
                        The next, new session.
                    </label>
                    <div>
                        <em>Session 4 "title"</em>
                    </div>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" name="participant_destination"
                               value="already_completed_session">
                        An already completed session for review.
                    </label>
                    <div>
                        <select name="already_completed_session"
                                class="form-control worth-already-completed"
                                disabled="disabled">
                            <!-- TODO this list needs to be updated when
                                 the facilitator changes the participant ID
                                 number in the select box above.
                              -->
                            <option value="/pages/session-2/"
                                    >Session 2</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        {{ form.session_type|bootstrap_horizontal:'col-sm-3' }}

        <div class="form-group">
            <div class="col-sm-offset-3 col-sm-6">
                <button type="submit" class="btn btn-primary">Sign In</button>
            </div>
        </div>
    </form>

</div>
{% endblock %}
